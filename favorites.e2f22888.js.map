{"mappings":"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","sources":["src/favorites.js","src/js/favorites/data.js","src/js/favorites/render.js","src/js/favorites/nav.js","src/js/favorites/favorites.js"],"sourcesContent":["import './js/home/header';\nimport './js/favorites/favorites';\n","import axios from 'axios';\n\n// Comment out start\nexport async function getData() {\n  const response = await axios.get(`${BASE_URL}/recipes/popular`);\n  console.log(response.data);\n  return response.data;\n}\n\nexport async function getFavoritesRecipes() {\n  favoriteRecipes = await getData();\n  pushDataToLocalStorage('favorites', favoriteRecipes);\n}\n\n// Comment out end\n\nfunction pushDataToLocalStorage(key, data) {\n  localStorage.setItem(key, JSON.stringify(data));\n}\n\nexport function pullDataFromLocalStroage(key) {\n  let data = JSON.parse(localStorage.getItem(key));\n  console.log(data);\n  return data;\n}\n\nexport function isDataValid(data) {\n  if (!data || data.constructor.name != 'Array') {\n    return false;\n  } else {\n    return true;\n  }\n}\n","import { isDataValid, pullDataFromLocalStroage } from './data';\nimport { showNextButton, showPrevButton } from './nav';\n\nfunction renderStars(rating) {\n  let stars = [];\n  rating = Math.round(rating / 100);\n\n  console.log(rating);\n\n  for (let i = rating; i >= 1; i--)\n    stars.push(\n      '<i class=\"fa fa-star\" aria-hidden=\"true\" style=\"color: gold;\"></i>&nbsp;'\n    );\n\n  stars = stars.join(' ');\n\n  return stars;\n}\n\nfunction favoritesPerPage(favorites) {\n  renderFavoritesPerPage = '';\n\n  let favoritesPerPage = favorites.filter((recipe, index) => {\n    let start = (currentPage - 1) * pageSize;\n    let end = currentPage * pageSize;\n    if (index >= start && index < end) return true;\n  });\n\n  favoritesPerPage.forEach(recipe => {\n    renderFavoritesPerPage += `<li class=\"favor-item\">\n    <img\n      src=${recipe.preview}\n      class=\"img-favor\"\n      alt=\"preview\"\n      width=\"335\"\n      height=\"335\"\n    />\n    <div class=\"card-favor\">\n      <h2 class=\"title-favor\">${recipe.title}</h2>\n      <p class=\"desc-favor\">${recipe.description}</p>\n      <div class=\"rating-btn-favor\">\n        <p class=\"rating-favor\">Rating: ${renderStars(recipe.popularity)}</p>\n        <btn class=\"btn-favor\">See recipe</btn>\n      </div>\n    </div>\n  </li>`;\n  });\n\n  return renderFavoritesPerPage;\n}\n\nexport default async function renderFavorites(page = 1) {\n  showPrevButton(page);\n  showNextButton(page);\n\n  const favorites = pullDataFromLocalStroage('favorites');\n\n  if (!isDataValid(favorites)) {\n    document.getElementById('favorList').innerHTML =\n      '<li>LocalStorage is empty</li>';\n  } else {\n    renderedFavoritesPerPage = favoritesPerPage(favorites);\n    document.getElementById('favorList').innerHTML = renderedFavoritesPerPage;\n  }\n}\n","import { isDataValid, pullDataFromLocalStroage } from './data';\nimport renderFavorites from './render';\n\nexport function previousPage() {\n  if (currentPage > 1) {\n    currentPage--;\n    renderFavorites(currentPage);\n  }\n}\n\nexport function nextPage() {\n  favorites = pullDataFromLocalStroage('favorites');\n\n  if (currentPage * pageSize < favorites.length) {\n    currentPage++;\n    renderFavorites(currentPage);\n  }\n}\n\nexport function numberOfPages() {\n  favorites = pullDataFromLocalStroage('favorites');\n\n  if (!isDataValid(favorites)) {\n    return 0;\n  }\n\n  try {\n    return Math.ceil(favorites.length / pageSize);\n  } catch (e) {\n    console.log(e);\n    return 0;\n  }\n}\n\nexport function showPrevButton(page) {\n  if (page === 1) {\n    prevButton.style.visibility = 'hidden';\n  } else {\n    prevButton.style.visibility = 'visible';\n  }\n}\n\nexport function showNextButton(page) {\n  if (numberOfPages() === 0 || page === numberOfPages()) {\n    nextButton.style.visibility = 'hidden';\n  } else {\n    nextButton.style.visibility = 'visible';\n  }\n}\n","import { previousPage, nextPage, showPrevButton, showNextButton } from './nav';\nimport renderFavorites from './render';\nimport { getFavoritesRecipes } from './data';\n\nmobile = true;\nBASE_URL = 'https://tasty-treats-backend.p.goit.global/api';\ncurrentPage = 1;\npageSize = mobile ? 1 : 12;\n\n// Comment out this\ngetFavoritesRecipes();\n\nrenderFavorites();\n\ndocument\n  .querySelector('#prevButton')\n  .addEventListener('click', previousPage, false);\ndocument\n  .querySelector('#nextButton')\n  .addEventListener('click', nextPage, false);\n"],"names":["parcelRequire","$bpxeT","$a98628d454d28d8b$export$7a171f172be0782e","$a98628d454d28d8b$var$_getData","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","response","$dIxxU","default","get","concat","BASE_URL","_ctx","sent","console","log","data","$a98628d454d28d8b$var$_getFavoritesRecipes","favoriteRecipes","$a98628d454d28d8b$var$pushDataToLocalStorage","key","localStorage","setItem","JSON","stringify","$a98628d454d28d8b$export$c8d5d6745e721803","parse","getItem","$a98628d454d28d8b$export$29c430453b4c95e0","constructor","name","$30d354c9afb8ee05$var$favoritesPerPage","favorites","renderFavoritesPerPage","filter","recipe","index","start","currentPage","pageSize","end","forEach","preview","title","description","rating","stars","Math","round","i","push","join","$30d354c9afb8ee05$var$renderStars","popularity","$30d354c9afb8ee05$var$_renderFavorites","page","_args","$7de05e5f7061d4f5$export$e6e43e4966caa788","length","$7de05e5f7061d4f5$export$11f4f0ef51297b25","renderedFavoritesPerPage","document","getElementById","innerHTML","$7de05e5f7061d4f5$export$accafa1c3f646231","ceil","e","prevButton","style","visibility","nextButton","mobile","$30d354c9afb8ee05$export$2e2bcd8739ae039","querySelector","addEventListener"],"version":3,"file":"favorites.e2f22888.js.map"}